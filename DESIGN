== SINK DESIGN DOCUMENT

Tracking module
===============


Hmmm.... notions should be made clearer

	- A State reflects a directory at a particular time, or generally
	  speaking a set of resources identified by paths, sharing a common subpath.
	
	- States can be used to compare two versions of the same directory (to detect
	  what has changed), but also to compute changes between copies of a
	  particular directory.

  - States are then both useful for revision control as well as for
    synchronizing directories.
	  
Concepts:

	STATE: A state represents a "snapshot" of a particular location on the
	filesystem. A state is an annotated tree, where each node represents either
	a file or a diectory. 
	State objects are designed to be general and are not really tied to a
	particular filesystem - you can use network protocols, or your own handler
	to gather data to create a state. See the State API for more on this.
	
	NODE: Nodes compose a STATE. Each node can be assigned a set of attributes (
	creation time, modification time, etc), and has two signatures : one for
	its attributes, and another (optional) for its content. Nodes can also by
	tagged with meta-information. By default, the TRACKER uses the "event" tag
	to tell what happened with the node when comparing its one state to another. 
	
	CHANGE: A change is a description of events
	...
	
	TRACKER: A tracker is the tool that tracks changes between two states. It
	offers an API with hooks for processing addded, removed and changed nodes.
	By default, it sets or clear the "event" tag of each node.

REFERENCES

	[RDUP] http://miek.nl/projects/rdup/
